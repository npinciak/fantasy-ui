<!-- <ng-container *ngIf="seasonConcluded$ | async">
  <div class="rounded-md bg-white p-2 text-center">
    <span class="text-xs">Season has concluded</span>
  </div>
</ng-container> -->

<app-page-layout>
  <div sidebar>
    <app-baseball-lineup-card
      title="Starting Lineup"
      [isLoading]="isLoading$ | async"
      [lineup]="startingBatters$ | async"
      (playerClicked)="onPlayerClick($event)"
      (refreshClicked)="onRefreshClick()"
    ></app-baseball-lineup-card>
    <div class="mx-3"></div>

    <app-baseball-lineup-card
      title="Bench"
      [isLoading]="isLoading$ | async"
      [lineup]="benchBatters$ | async"
      (playerClicked)="onPlayerClick($event)"
      (refreshClicked)="onRefreshClick()"
    ></app-baseball-lineup-card>
    <div class="mx-3"></div>

    <app-baseball-lineup-card
      title="Starting Pitchers"
      [isLoading]="isLoading$ | async"
      [lineup]="startingPitchers$ | async"
      (playerClicked)="onPlayerClick($event)"
      (refreshClicked)="onRefreshClick()"
    ></app-baseball-lineup-card>
  </div>
  <div main>
    <div class="mb-5 w-full bg-white p-5">
      <div class="ml-3 flex items-center space-x-4">
        <div class="flex-shrink-0" [attr.aria-label]="">
          <img
            height="88"
            width="88"
            role="presentation"
            class="text-center text-xs text-gray-500"
            [title]=""
            [alt]=""
            [src]="(fantasyBaseballTeamFacade.teamInfo$ | async).logo"
          />
        </div>
        <div class="min-w-0 flex-1">
          <p [title]="" class="truncate text-xl font-bold sm:text-xl">
            {{ (fantasyBaseballTeamFacade.teamInfo$ | async).name }}
            <span class="text-lg font-medium text-gray-500"> {{ (fantasyBaseballTeamFacade.teamInfo$ | async).totalPoints }} pts</span>
          </p>
          <p class="text-lg font-medium text-gray-500">({{ (fantasyBaseballTeamFacade.teamInfo$ | async).currentRank }} of 10)</p>
        </div>
      </div>
    </div>

    <app-baseball-stats
      [statsFilterOptions]="BATTER_STATS_LIST"
      [tableData]="[]"
      [chartData]="[]"
      (scoringPeriodFilterChange)="onScoringPeriodIdChange($event)"
      (graphXAxisChange)="onBatterStatXAxisChange($event)"
      (graphYAxisChange)="onBatterStatYAxisChange($event)"
    ></app-baseball-stats>

    <div class="flex flex-1 flex-col gap-5 sm:flex-row">
      <div class="basis-1/3">
        <app-dropdown-filter
          ariaLabel="scoring period options"
          [selectedOption]="statPeriod$ | async"
          title="Stat Period"
          [filterItems]="scoringPeriodFilters$ | async"
          (filterUpdate)="onScoringPeriodIdChange($event)"
        ></app-dropdown-filter>
      </div>
      <div class="basis-1/3">
        <app-dropdown-filter
          ariaLabel="batter stats options"
          [selectedOption]="selectedBatterStatXAxis$ | async"
          title="batter stats x"
          [filterItems]="BATTER_STATS_LIST"
          (filterUpdate)="onBatterStatXAxisChange($event)"
        ></app-dropdown-filter>
      </div>
    </div>
    <div class="flex flex-1 flex-col gap-5 sm:flex-row">
      <div class="basis-1/3">
        <app-line-chart [title]="selectedBatterStatXAxis$ | async" [chartData]="batterBarData$ | async"></app-line-chart>
      </div>

      <div class="basis-1/3">
        <app-pie-chart [title]="selectedBatterStatXAxis$ | async" [chartData]="batterBarData$ | async"></app-pie-chart>
      </div>
    </div>

    <div>
      <app-espn-stats-table
        [data]="tableDataBatters$ | async"
        [dataColumns]="(tableConfig$ | async).rows"
        [headers]="(tableConfig$ | async).headers"
        [statsMap]="MLB_STAT_MAP"
      >
      </app-espn-stats-table>
    </div>

    <h3>Pitching</h3>

    <!-- <app-dropdown-filter
      ariaLabel="pitcher stats options"
      [selectedOption]="selectedPitcherStatXAxis$ | async"
      title="pitcher stats x"
      [filterItems]="PITCHER_STATS_LIST"
      (filterUpdate)="onPitcherStatXAxisChange($event)"
    ></app-dropdown-filter> -->

    <!-- <app-line-chart [title]="selectedPitcherStatXAxis$ | async" [chartData]="batterBarData$ | async"></app-line-chart> -->

    <app-espn-stats-table
      [data]="tableDataPitchers$ | async"
      [dataColumns]="(tableConfig$ | async).rows"
      [headers]="(tableConfig$ | async).headers"
      [statsMap]="MLB_STAT_MAP"
    >
    </app-espn-stats-table>
  </div>
</app-page-layout>
