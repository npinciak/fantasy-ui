<app-page-layout>
  <div sidebar>
    <app-dropdown-filter
      ariaLabel="scpring period options"
      [selectedOption]="scoringPeriodId$ | async"
      title="Stat Period"
      [filterItems]="scoringPeriodFilterOptions$ | async"
      (filterUpdate)="scoringPeriodIdChange($event)"
    ></app-dropdown-filter>

    <div class="mt-2"></div>

    <app-dropdown-filter
      ariaLabel="position options"
      [selectedOption]="selectedLineupSlotId$ | async"
      title="Position"
      [filterItems]="LINEUP_SLOTS"
      (filterUpdate)="onLineupFilterSlotIdChange($event)"
    ></app-dropdown-filter>

    <div class="mt-2"></div>

    <app-dropdown-filter
      ariaLabel="team options"
      [selectedOption]="selectedTeamId$ | async"
      title="Teams"
      [filterItems]="teamFilterOptions$ | async"
      (filterUpdate)="onTeamFilterOptionChange($event)"
    ></app-dropdown-filter>
  </div>
  <div main class="flex-col gap-20">
    <div class="flex-col">
      <div class="basis-1/2">
        <app-dropdown-filter
          ariaLabel="xAxis stat options"
          [selectedOption]="xAxisStat$ | async"
          title="xAxis"
          [filterItems]="FOOTBALL_STATS_FILTER"
          (filterUpdate)="onAxisXChange($event)"
        >
        </app-dropdown-filter>
      </div>
      <div class="basis-1/2">
        <app-dropdown-filter
          ariaLabel="yAxis stat options"
          [selectedOption]="yAxisStat$ | async"
          title="yAxis"
          [filterItems]="FOOTBALL_STATS_FILTER"
          (filterUpdate)="onAxisYChange($event)"
        ></app-dropdown-filter>
      </div>
    </div>
    <div>
      <app-data-vis-scatter
        [xAxisFilterTitle]="xAxisStat$ | async"
        [yAxisFilterTitle]="yAxisStat$ | async"
        [chartData]="freeAgentsScatter$ | async"
      ></app-data-vis-scatter>
    </div>
    <div>
      <app-espn-stats-table
        [data]="tableDataWithTeams$ | async"
        [dataColumns]="(tableConfig$ | async).rows"
        [headers]="(tableConfig$ | async).headers"
        [statsMap]="FOOTBALL_STATS_MAP"
      >
      </app-espn-stats-table>
    </div>
  </div>
</app-page-layout>
