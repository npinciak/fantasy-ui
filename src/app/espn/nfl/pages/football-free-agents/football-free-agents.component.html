<div fxLayout="row" fxLayoutGap="20px" fxLayout.sm="column" fxLayout.xs="column">
  <div fxFlex="30%" fxFlex.sm="100%">
    <mat-card>
      <mat-card-content>
        <app-dropdown-filter
          [selectedOption]="scoringPeriodId$ | async"
          title="Stat Period"
          [filterItems]="FOOTBALL_STAT_PERIOD_FILTER_OPTIONS"
          (filterUpdate)="scoringPeriodIdChange($event.value)"
        ></app-dropdown-filter>
      </mat-card-content>
    </mat-card>
    <div style="margin: 10px 0"></div>

    <mat-card>
      <mat-card-content>
        <mat-form-field>
          <mat-label> Slots</mat-label>
          <mat-select (selectionChange)="onLineupFilterSlotIdChange($event.value)" multiple>
            <mat-option *ngFor="let slot of LINEUP_SLOTS" [value]="slot"> {{ FOOTBALL_LINEUP_SLOT_MAP[slot].name }}</mat-option>
          </mat-select>
        </mat-form-field>
      </mat-card-content>
    </mat-card>

    <!-- <div>
      <ng-container *ngIf="fantasyBaseballLeagueFacade.isLoading$ | async; else refreshBtn">
        <mat-spinner diameter="20"></mat-spinner>
      </ng-container>
      <ng-template #refreshBtn>
        <mat-icon class="cursor-pointer" (click)="fantasyBaseballLeagueFacade.getLeague(leagueId)">refresh</mat-icon>
      </ng-template>
    </div>
    <mat-card>
      <mat-card-content>
        <div>
          <app-dropdown-filter
            [selectedOption]="scoringPeriodId"
            title="Stat Period"
            [filterItems]="BASEBALL_STAT_PERIOD_FILTER_OPTIONS"
            (filterUpdate)="scoringPeriodIdChange($event)"
          ></app-dropdown-filter>
        </div>
        <div>
          <mat-form-field>
            <mat-label>League Rosters</mat-label>
            <mat-select [(value)]="selectedLeagueTeam" (selectionChange)="onSelectedLeagueTeamChange($event.value)">
              <mat-option *ngFor="let team of fantasyBaseballTeamFacade.teamList$ | async" [value]="team.id">{{ team.name }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field *ngIf="viewingBatters; else pitchingStats">
            <mat-label>Batter Stats</mat-label>
            <mat-select [(value)]="selectedBatterStat" (selectionChange)="onBatterStatChange($event.value)">
              <mat-option *ngFor="let stat of BATTER_STATS_LIST" [value]="stat.id">{{ stat.abbrev }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </mat-card-content>
    </mat-card>
    <div style="margin: 10px 0"></div>
    <mat-card>
      <mat-card-content>
        <div>
          <mat-form-field>
            <mat-label>Player Availability</mat-label>
            <mat-select (selectionChange)="onPlayerAvailabilityStatusChange($event)">
              <mat-option value="FREEAGENT">Free Agents </mat-option>
              <mat-option value="WAIVERS">On Waivers </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field *ngIf="viewingBatters; else pitchingSlots">
            <mat-label>Batting Slots</mat-label>
            <mat-select (selectionChange)="onLineupFilterSlotIdChange($event.value)" multiple>
              <mat-option *ngFor="let slot of BATTING_LINEUP_SLOTS" [value]="slot"> {{ MLB_LINEUP_MAP[slot].name }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </mat-card-content>
    </mat-card> -->
  </div>

  <div fxFlex="70%" fxFlex.sm="100%">
    <app-espn-stats-table
      [data]="(players$ | async)!(scoringPeriodId$ | async, seasonId)"
      [dataColumns]="FOOTBALL_ROSTER_ROWS"
      [headers]="FOOTBALL_ROSTER_HEADERS"
      [statsMap]="FOOTBALL_STATS_MAP"
    >
    </app-espn-stats-table>
  </div>
</div>
